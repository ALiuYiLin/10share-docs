---
excerpt: 防抖,事件触发后，等待指定时间再执行函数；若等待期间再次触发，则重新计时。
---
### 防抖&节流

- 防抖

  - 事件触发后，等待指定时间再执行函数；若等待期间再次触发，则重新计时。

  - 实现方式：闭包（timer）返回一个函数，如果timer不为空，清除timer，timer = setTimeout（fn.apply,delay）

    ```javascript
    function debounce(fn,delay) {
        let timer = null
        return function(...args) {
            const context = this
            if(timer) clearTimeout(timer)
            timer = setTimeout(() => {
                fn.apply(context,args)
                timer = null
            },delay)
        }
    }
    ```

    

- 节流

  - 在指定时间内，函数只执行一次，无论触发多少次。

  - 实现

    ```javascript
    function throttle(fn, delay) {
        let lastTime = 0
        return function(...args) {
            const context = this
            const now = Date.now()
            if(now - lastTime >= delay) {
                fn.apply(context, args)
                lastTime = now
            }
        }
    }
    ```

    





















防抖，等待一定时间后再执行函数，若在等待时间内重复调用防抖函数，则清空等待时间。

```javascript
function debounce(fn, delay) {
   let timer = null
   return function(...args) {
       const context = this
       if(timer) clearTimeout(timer)
       timer = setTimeout(()=>{
           fn.apply(context,agrs)
           timer = null
       },delay)
   }
}
```

节流，一定时间内只执行一次函数，若在执行函数后的一定时间内重复调用节流函数，则不执行。

```javascript
functon throttle(fn, delay) {
    let lastTime = 0
    return function(...args) {
        const now = Date.now()
        if(now - lastTime >= delay) {
            fn.apply(this,args)
            lastTime = now
        }
    }
}
```



