---
excerpt: Vue的diff算法（也称为“虚拟DOM差异算法”）是其核心性能优化手段之一
---
Vue的diff算法（也称为“虚拟DOM差异算法”）是其核心性能优化手段之一，主要用于在数据变化时，高效比较新旧虚拟DOM树的差异，并仅更新需要变动的真实DOM节点，避免全量重渲染。一下从核心流程、关键优化和具体实现细节展开说明。
## 一、虚拟DOM与Diff的背景
虚拟DOM（VNode）是真实DOM的轻量级JavaScript对象表示。当组件状态变化时，vue会生成新的虚拟DOM树，并与旧的DOM树对比，最终将差异同步到真实DOM中。

diff算法的目标是最小化真实DOM操作，通过复用可重用节点和精准定位差异来提升性能。
## 二、diff算法的核心流程
Vue的diff过程是递归逐层比较的，从根节点开始，依次比较每一层的VNode，直到叶节点。主要分为两步：
    